import define1 from "./a2e58f97fd5e8d7c@672.js";
import define2 from "./a33468b95d0b15b0@808.js";

export default function define(runtime, observer) {
  const main = runtime.module();
  const fileAttachments = new Map([["1951.pdf",new URL("./files/802c43413a3cc0f7983c7bbda773ae3c2cccf27a3f01389152977684d8e13f27340298cb35f9094e23b2bcade350915ec02403e9367e1a531580815beb8bc8f9",import.meta.url)],["1962.pdf",new URL("./files/07b7c15229afc35460efc3fb9eac1d76c3c5bb405aaf3ede4b6b8a78393db15d73581f2735244080baef6e88ca95f5a8a10ee440da5e0febe905fda7e3bce04d",import.meta.url)],["1971.pdf",new URL("./files/c905c28a161dd55fc6cdb61a107850c5f478ce8c5d4f5301c3dcdf82f4e4aa985d0b2b95434a0fcb315861ae5bc3e55600e193262b8d8d5d01dc065d9d461444",import.meta.url)],["2011.pdf",new URL("./files/20728ee19c6f4d08ee4827caddae2c608e9cce095fd443c03c0f702b4babb97b3d0cd6741590c0f81c7b7bb22df09301252b9c7df641f304813c2bbf6f1846d2",import.meta.url)],["1996.pdf",new URL("./files/d7c247f5857ae0e9c9f78b4495ac1b36586289fdb336948a509d43fb0f54fbf2cede8f91cc9034de567fa8bb964fd1be0ab27c9356189fa1abe23ff42fc5e4df",import.meta.url)],["2016.pdf",new URL("./files/81c8a93f1b59b6672da9a63d13312522bf31eaa753cba11845d6ea61467af098362e6d71c6442e238b22bd260e5b3ada3c78a5b6d0c17cdd3df19829b8d4e312",import.meta.url)],["1987.pdf",new URL("./files/302c0effb262f134625b8199f032296eaa085c86dd20db46917cfce46407221f7304a7fa588423b84b3667da19a11c3c5a5734030925ea72302d7972e05829c7",import.meta.url)],["1969.pdf",new URL("./files/0ac67b19e1b360440fcb2f49365e848961a1fcb7685aca38b2596bc72df1d231bdc234f82f40442af120b36eaf8c346d02dc3e0d6b2da190aef4f606a611f74a",import.meta.url)],["1967.pdf",new URL("./files/9014bae97a4ae60f7892f261ae7165c16f23b88b969d43cdcdbc74ed202db9f767bed69e395ad6379bddecfd926c3c22c4abadde0632279be5000286825737e0",import.meta.url)],["1977.pdf",new URL("./files/fec4fbaeebc3ea46dd8990ecc499cba229407a3e1db884be81e09514a4d309071692977c865ec1b158ca763ab12fd5ba97ddea2062a07c6745efb6f218b4d9b0",import.meta.url)],["2006.pdf",new URL("./files/796b08a46c7ba5b7082eb1365d586d530680becdfcd361626695387a8ef1b48409a03ab599cb1480eec0c0781e2940700e41f281a736f7f92031d543abf51414",import.meta.url)],["1991.pdf",new URL("./files/06606f71e97c9fe8c9adfa5d5b99b6e5d87c14ebd841a82bcb7998c76fc6d19abbc083e7dc3b8819363a7e79ed33f46c8a2bf16c86ebab3ffc7aa0a6a626df68",import.meta.url)],["1982.pdf",new URL("./files/6ba59e707881eb5f5eeb0982db264714852b5eb15bcbb882086f835e488d4877ad0338c4c3bd2e9ff55cf48c1b4582350407962fe19a61e9d9c03e34c600f4d7",import.meta.url)],["2001.pdf",new URL("./files/195914b73cc1efcd9f43af57bb270622fdddb0ad942fdac8d2f4ca1b9b641920e722fc70e445bc4c8ce8a83a6849e84c2c12be5c58378418874243194d9f5a8c",import.meta.url)],["1957.pdf",new URL("./files/368f9ca8a52d6e9ec35dbf71e30c27771cf71a2436dc7331c7587ae9008bc27dc1125464ceef44100675d4a27087bf352825ddfa064b5638f7e2c988613e7254",import.meta.url)],["wb1952@6.csv",new URL("./files/948354422d0917f65e1ff3a3ad17287c9b51b6d6e1eb37eb4005a095b5bc7c7b0127588e06809cd55d71dcec87d2e09c17d5388462ce8120683977864569d98e",import.meta.url)],["wb1957@6.csv",new URL("./files/920ca32200d81b313f1f61c30616582e78a57d9e58a3550f4670e4159ab10c19e5ee4e655664ad4dd294372fa607a1c1fcfb736f2bce547e150b28f64b2a80a6",import.meta.url)],["wb1967@4.csv",new URL("./files/27c82460c166934085371be87969405a616482e7c669be0f840ab88c06c2b810c4956670286ce62647a148c4ff905c30f84114f663ad342792f451fcca0bd7a6",import.meta.url)],["wb1962@4.csv",new URL("./files/59081e8c866ca83cf8c002880f6b8aa307c5383443581264bdbc37d04d06adaefdf6b3808eefd70318e57080fdcab3c1bb8a3af801662477b167013bdade10bb",import.meta.url)],["wb1969@4.csv",new URL("./files/ee2dff21db25524f2b10d8c1d1a9c33c60df44b85d7c1410fc3705f47a0c1c9c3ebcef9cf7907596c690be649ece66ed96fc7162b9c543d501d2a4d35ab87efd",import.meta.url)],["wb1971@4.csv",new URL("./files/8cc6bec2ad15187af48f9f5d603ea345357e44bbb10fe8595b8364b382281c4e9856a537c50711decfd4627e1a21de6732a869c2e2254763924762e49f052b6c",import.meta.url)],["wb1972@4.csv",new URL("./files/2d4fc19ce4fa613d7f21d964a414d6367c0569ad9d4b5badc0f354d927ff422ac8284c348c06caa04af1a9e50d06989a04850df73e022d36b21a116bcd3c28db",import.meta.url)],["wb1977@4.csv",new URL("./files/4b563ab967baa665a5523ad5fef3854e6e57782febb8ca63c25029d41edaf009a17ed6f039cf7bcbfc7665047bb86b6b9b8b0b22cd7a36f2ed4b75c259ba4308",import.meta.url)],["wb1982@4.csv",new URL("./files/a0729a56a75baecd2d6845be7e0fe42b5ce6e479ea1535d2b0a0edf669062374b3859cb75c07dae974493885002e9593df80d1788b1e776921230b4ab51b91d9",import.meta.url)],["wb1987@3.csv",new URL("./files/d3a645b5c1873eb999bffd309451b7ab98b26574acd6d767b21ab49320115bc051e9ae5b152be250dd944d40212c34767b22bdb97e963f48f3490a093cec06df",import.meta.url)],["wb1991@3.csv",new URL("./files/45c748467d2997ce2e8fc034b63b8c06c284c968842bed82c468b423b4095bb954d5fe6bc2144ac633fd60ba9b66309b08a1c35ea5f74998e616b6af04fabd31",import.meta.url)],["wb2001@3.csv",new URL("./files/fc9fdd144f347aabf125d8fad3eb80f9e880391d841a24caf5e8b1a8ab0b21440805bc17c1cee2a6dd2ab7c55ed4bfafa146406f581f172efc39ba5fe09beba8",import.meta.url)],["wb2011@3.csv",new URL("./files/950f994ed1c40d67a893ae7259e0254d0e0a85fc9d5ee3d54afe97a537c4a117089717c26b33dd345702a607754290ae37c8025a80e50844020dbd8fcc8b8763",import.meta.url)],["wb2016@3.csv",new URL("./files/ca325571599053d6ee731fb63694f0a661689f83bed6286837a86f1ea4ab7d1b9358c25f805f99e01adf3926fa16f835036cd1ee0e5869c42e5fe2dbaeb56ce8",import.meta.url)],["wb2021@4.csv",new URL("./files/d6f45fb9b4d2dfd8a876d8245ace70686559a763bd34793d7f6a3c7289bd270c80d62d17b24990fc06cfcf1e10338431707db4a9344f5d9c1f6542e27427477e",import.meta.url)],["wb2006@3.csv",new URL("./files/f402f533663d7008d9bd1fb89f1b416cfa5469bd874b8d2693dc5136caeccb58756c05cc088e6318efa32a0ef2a63d01aacccf169e370f0f9524221bf42230ae",import.meta.url)],["wb1996@3.csv",new URL("./files/4f12dd571e07c9f71c553a2e1346c4dc19f2cc9a11277689af64a8163170109c2ba4bed3113b71657805981c9b4c1b0ad7907dfb8b12f85cb5e28018581a1b78",import.meta.url)],["WB_seats_4parties@1.csv",new URL("./files/b5275aa58244989ad84473dfe1c5002bc4d1a03925800d8287e39b36389499db1b54a2dce3a76d0fbe8ff308fcb0ae196f8802d943849523d3b1cf60892cb9b3",import.meta.url)],["WB_seats_4parties_format@1.csv",new URL("./files/e1bbe54f67945332c34a43a1414f04aceef5970be68d9cbd03aa907d3118135d5c09c4054222ad10f92b71d53bb9d3f8e749fb190e7a3b6cc291be49516093b0",import.meta.url)],["Parties.csv",new URL("./files/ae8a5ec0958b7e59ee7a564f68edeebadc0ed0a10604bcc74cc1da19f30aecf3c10955b6b2d05f472cde104fbeb90036c547ec967babb21f3c761a8c31852605",import.meta.url)],["WB_seats_4parties@3.csv",new URL("./files/c9a87a98a6d6ff378fa71dd720781715dc08c303a8ed3982ec5a45716bc172fa50db6021c91281bc4bda7602b6b71fe13375425c576dbaa99b0fedd9c6ef66fd",import.meta.url)],["orangedotline.csv",new URL("./files/8be261e96b632c03c62512e1e17a2627bb3f35826fb92f07b6aa3feada253dea5490c7c5eacb9ab3d2b1b28728d4d043c4e7f6b3fb409d774cc175d68a7faf84",import.meta.url)],["greendotline.csv",new URL("./files/fe17673f8e8137072aacc6eb11b81747f8a04334415eec01bd6841dea0a56502e36a4a75be1cebea42aa12e382a19666b4e53229e143440f1f319596700a2833",import.meta.url)],["bluedotline.csv",new URL("./files/6e56b718fbd71a4c689849736c01d68114969ba8c36d387d7f7b7e9e214a4afca3d05809eb1b22a23b8e22fed43676f4666ecde67252cea9ae6d155b6d8d2c0f",import.meta.url)],["reddotline.csv",new URL("./files/ad79f1b03a7fa372d25ecc91ba876c868e55ebb06a819e8694a677cf8b03e6c0338254d20740872073cbecd1838b36dd70bd960aa686baba58d6dd6aa5505ac8",import.meta.url)],["parties_lolipop.csv",new URL("./files/f6692cf8a6a0a4880951f6b0cad488f289a0c9a7485d228080ed65187273b16ac62d3acd684898f66d44093656918c78d05a0c3a7fabd0917cfb8c8c8bbfa5a0",import.meta.url)],["combo_votes.csv",new URL("./files/77c927a26a628a790c4b55a0868d50084b2aa116f19f997e5c8dd8086c98b199737572772cbca1aa00383c033de47ee45908a9718a8256eb8f601554f88c45dd",import.meta.url)]]);
  main.builtin("FileAttachment", runtime.fileAttachments(name => fileAttachments.get(name)));
  main.variable(observer()).define(["md"], function(md){return(
md`# West Bengal Assembly Elections  
<br>
## The Long View, 1951-2021  
<br>

The Indian state of West Bengal has elected the incumbent party All India Trinamool Congress (AITC) in the Asembly Elections held in April-May 2021. The second highest number of seats were won by Bharatiya Janata Party (BJP). The datasets connected with page, along with links to wikipedia pages and Election Commission Reports, constitute resources aimed at a long view of electoral politics in West Bengal. 
<br>

The data is collected from the website of [Election Commission of India](https://eci.gov.in/), and from Wikipedia. Links to data on individual elections are provided in the linked pages below.
<br>`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#1f77b4"></svg> Indian National Congress (INC)       |    <svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#d62728"></circle></svg> Communist Party of India, Marxist (CPIM)  
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#2ca02c"></circle></svg> All India Trinamool Congress (AITC)|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#ff993e"></circle></svg> Bharatiya Janata Party (BJP)  
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#bfa4d7"></circle></svg> All Other`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","formatwb"], function(Plot,formatwb){return(
Plot.plot({
  marginBottom: 50,
  width: 800,
  height: 350,

  x: {
    grid: true,
    tickRotate: 45,
    label: "Year"
  },
  color: {
    domain: ["INC", "CPIM", "AITC", "BJP", "Other"],
    range: ["#1f77b4", "#d62728", "#2ca02c", "#ff993e", "#bfa4d7"]
  },
  y: {
    grid: true,
    label: "Seats won by the parties"
  },
  marks: [
    Plot.areaY(formatwb, {
      x: "Date",
      y: "Seats",
      fill: (d) => d.Party,
      title: (d) => d.Party
    }),
    Plot.lineY(
      formatwb,
      Plot.stackY1({
        x: "Date",
        y: "Seats",
        z: "Party",
        stroke: "white",
        strokeWidth: 1
      })
    ),
    Plot.ruleY([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`---------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
### The tabular data behind the above chart.
<br>`
)});
  main.variable(observer()).define(["Inputs","alldata"], function(Inputs,alldata){return(
Inputs.table(alldata)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
##   
------------------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`## Three Parties, Three Eras. 
<br>

|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#1f77b4"></svg> Indian National Congress (INC) and its allies/offshoots: **1951-1977**.       
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#d62728"></circle></svg> CPI(M) and its communist/socialist predecessors/allies: **1977-2011**.    
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#2ca02c"></circle></svg> All India Trinamool Congress (AITC): **2011-current**.
`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","lolichart"], function(Plot,lolichart){return(
Plot.plot({
  marginBottom: 70,
  marginTop: 50,
  width: 800,
  height: 400,
  x: {
    domain: lolichart.map((d) => d.Election),
    label: "Three Parties, Three Eras",
    tickSize: 5,
    tickRotate: 45
  },
  y: {
    label: "Seats"
  },
  color: {
    domain: ["INC", "CPIM", "AITC"],
    range: ["#1f77b4", "#d62728", "#2ca02c"]
  },
  marks: [
    Plot.ruleY([0]),
    Plot.ruleX(lolichart, {
      x: "Election",
      y: "Seats",
      stroke: "Party",
      strokeWidth: 2,
      title: "Party"
    }),
    Plot.dot(lolichart, {
      x: "Election",
      y: "Seats",
      fill: "Party",
      r: 10,
      title: "Party"
    })
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`----------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`### Now for a different view ...  
## Popular Votes by Political Color: 1951-2021    
<br>
The above picture does not tell us much about the reach or influence of the parties beyond the number of seats. The following section has graphs based on the number of votes won by each group of parties, irrespective of their winning or losing seats.   
<br>
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#1f77b4"></svg> Blue Parties: Indian National Congress (INC) and its offshoots. Politics: **centrist**.       
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#d62728"></circle></svg> CPI(M) and its other communist/socialist predecessors and allies. Politics: **leftist**.   
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#ff993e"></circle></svg> Hindu Nationalist Parties from Jana Sangh to the current BJP. Politics: **right-wing**.  
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#2ca02c"></circle></svg> All India Trinamool Congress (AITC). Politics: **liberal/secular neoliberal**.
 <br>
 
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`----------------------------`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","bluedotline","d3","fmt"], function(Plot,bluedotline,d3,fmt){return(
Plot.plot({
  width: 900,
  marginTop: 50,
  marginRight: 50,
  marginBottom: 50,
  x: {
    domain: bluedotline.map((d) => d.Election)
  },
  y: {
    grid: true,
    nice: true,
    domain: [0, 290],
    label: "Seats won by Indian National Congress and similar parties"
  },
  r: {
    domain: d3.extent(bluedotline.map((d) => d.group_votes)),
    range: [5, 40]
  },
  color: {
    domain: d3.extent(bluedotline.map((d) => d.group_votes)),
    scheme: "blues"
  },
  marks: [
    Plot.line(bluedotline, {
      x: "Election",
      y: "group_won",
      stroke: "#1f77b4  "
    }),
    Plot.dot(bluedotline, {
      x: "Election",
      y: "group_won",
      r: "group_votes",
      fill: "group_votes",
      title: (d) =>
        `${d.Election}\nSeats: ${fmt(d.group_won)}\nTotal Votes: ${fmt(
          d.group_votes
        )}`
    })
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<svg width="15" height="15" viewBox="-6 -6 12 12"><circle r="40" fill="#1f77b4"></svg> Blue Parties: Indian National Congress (INC) and its offshoots. Politics: **centrist**.   
<br>

The *y-axis* represents the *number of seats* won by the *group* of parties; the *size and color of the dots* correspond to the *number of votes* received. **Hover** over each dot to see details about that election.`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`--------------------------------`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","redotline","d3","fmt"], function(Plot,redotline,d3,fmt){return(
Plot.plot({
  width: 900,
  marginTop: 50,
  marginRight: 50,
  marginBottom: 50,
  x: {
    domain: redotline.map((d) => d.Election)
  },
  y: {
    grid: true,
    nice: true,
    domain: [0, 290],
    label: "Seats won by the Red Group"
  },
  r: {
    domain: d3.extent(redotline.map((d) => d.group_votes)),
    range: [5, 40]
  },
  color: {
    domain: d3.extent(redotline.map((d) => d.group_votes)),
    scheme: "reds"
  },
  marks: [
    Plot.line(redotline, {
      x: "Election",
      y: "group_won",
      stroke: "#d62728 "
    }),
    Plot.dot(redotline, {
      x: "Election",
      y: "group_won",
      r: "group_votes",
      fill: "group_votes",
      title: (d) =>
        `${d.Election}\nSeats: ${fmt(d.group_won)}\nTotal Votes: ${fmt(
          d.group_votes
        )}`
    })
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
<svg width="15" height="15" viewBox="-6 -6 12 12"><circle r="40" fill="#d62728"></circle></svg> CPI(M) and its other communist/socialist predecessors and allies. Politics: **leftist**.    
<br>

The *y-axis* represents the *number of seats* won by the *group* of parties; the *size and color of the dots* correspond to the *number of votes* received. **Hover** over each dot to see details about that election.`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`-------------------------------`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","orangedotline","d3","fmt"], function(Plot,orangedotline,d3,fmt){return(
Plot.plot({
  width: 900,
  marginTop: 50,
  marginRight: 50,
  marginBottom: 50,
  x: {
    domain: orangedotline.map((d) => d.Election)
  },
  y: {
    grid: true,
    nice: true,
    domain: [0, 290],
    label: "Seats won by the Orange Group"
  },
  r: {
    domain: d3.extent(orangedotline.map((d) => d.group_votes)),
    range: [5, 40]
  },
  color: {
    domain: d3.extent(orangedotline.map((d) => d.group_votes)),
    scheme: "oranges"
  },
  marks: [
    Plot.line(orangedotline, {
      x: "Election",
      y: "group_won",
      stroke: "#ff7f0e "
    }),
    Plot.dot(orangedotline, {
      x: "Election",
      y: "group_won",
      r: "group_votes",
      fill: "group_votes",
      title: (d) =>
        `${d.Election}\nSeats: ${fmt(d.group_won)}\nTotal Votes: ${fmt(
          d.group_votes
        )}`
    })
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
<svg width="15" height="15" viewBox="-6 -6 12 12"><circle r="40" fill="#ff993e"></circle></svg> Hindu Nationalist Parties from Jana Sangh to the current BJP. Politics: **right-wing**.    
<br>
The *y-axis* represents the *number of seats* won by the *group* of parties; the *size and color of the dots* correspond to the *number of votes* received. **Hover** over each dot to see details about that election.
<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`--------------------`
)});
  main.variable(observer()).define(["Plot","greendotline","d3","fmt"], function(Plot,greendotline,d3,fmt){return(
Plot.plot({
  width: 900,
  marginTop: 50,
  marginRight: 50,
  marginBottom: 50,
  x: {
    domain: greendotline.map((d) => d.Election)
  },
  y: {
    grid: true,
    nice: true,
    domain: [0, 290],
    label: "Seats won by Trinamool Congress"
  },
  r: {
    domain: d3.extent(greendotline.map((d) => d.group_votes)),
    range: [5, 40]
  },
  color: {
    domain: d3.extent(greendotline.map((d) => d.group_votes)),
    scheme: "greens"
  },
  marks: [
    Plot.line(greendotline, {
      x: "Election",
      y: "group_won",
      stroke: "#2ca02c "
    }),
    Plot.dot(greendotline, {
      x: "Election",
      y: "group_won",
      r: "group_votes",
      fill: "group_votes",
      title: (d) =>
        `${d.Election}\nSeats: ${fmt(d.group_won)}\nTotal Votes: ${fmt(
          d.group_votes
        )}`
    })
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
<svg width="15" height="15" viewBox="-6 -6 12 12"><circle r="40" fill="#2ca02c"></circle></svg> All India Trinamool Congress (AITC). Politics: **liberal/secular neoliberal**.  
<br>
The *y-axis* represents the *number of seats* won by the *group* of parties; the *size and color of the dots* correspond to the *number of votes* received. **Hover** over each dot to see details about that election.
<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`-------------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
## A More Correct Picture: Political Trends  
### This graph consolidates the above political groups, based on votes won.  
This is a better representation of **(a)** the fact that traces of Hindu nationalism that always existed, albeit as a thin stream, and **(b)** how West Bengal has always maintained its red (leftist) streak.
<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#1f77b4"></svg> Blue Parties: Indian National Congress (INC) and its offshoots. Politics: **centrist**.       
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#d62728"></circle></svg> CPI(M) and its other communist/socialist predecessors and allies. Politics: **leftist**.   
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#ff993e"></circle></svg> Hindu Nationalist Parties from Jana Sangh to the current BJP. Politics: **right-wing**.  
|<svg width="12" height="12" viewBox="-6 -6 12 12"><circle r="40" fill="#2ca02c"></circle></svg> All India Trinamool Congress (AITC). Politics: **liberal/secular neoliberal**.
<br>`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","formatYear","combodotlinevotes"], function(Plot,formatYear,combodotlinevotes){return(
Plot.plot({
  marginBottom: 50,
  marginLeft: 100,
  width: 800,
  height: 350,

  x: {
    grid: true,
    tickRotate: 45,
    label: "Election",
    tickFormat: formatYear
  },
  color: {
    domain: ["blue", "red", "green", "orange"],
    range: ["#1f77b4", "#d62728", "#2ca02c", "#ff993e"]
  },
  y: {
    grid: true,
    label: "Votes won by the discrete groups"
  },
  marks: [
    Plot.areaY(combodotlinevotes, {
      x: "Election",
      y: "group_votes",
      fill: (d) => d.Group,
      title: (d) => d.Group
    }),
    Plot.lineY(
      combodotlinevotes,
      Plot.stackY1({
        x: "Election",
        y: "group_votes",
        z: "Group",
        stroke: "white",
        strokeWidth: 1
      })
    ),
    Plot.ruleY([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>=`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`---------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`## Time Span of All (Major) Parties in West Bengal Elections: 1952-2021
<br>`
)});
  main.variable(observer()).define(["Plot","sortedParties","formatYear","d3"], function(Plot,sortedParties,formatYear,d3){return(
Plot.plot({
  height: sortedParties.length * 25,
  marginLeft: 150,
  width: 800,

  x: {
    axis: "top",
    grid: true,
    tickFormat: formatYear
  },
  y: {
    axis: null,
    domain: sortedParties
      .sort((a, b) => d3.ascending(a.Start, b.Start))
      .map((d) => d.Party_Name)
  },
  marks: [
    Plot.barX(sortedParties, {
      x1: "Start",
      x2: "End",
      y: "Party_Name",
      order: (a, b) => d3.ascending(a.Start, b.Start),
      fill: "#a3786f"
    }),
    Plot.text(sortedParties, {
      x: "Start",
      y: "Party_Name",
      text: "Party_Name",
      textAnchor: "End",
      dx: -5
    })
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`-------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
### The data from the above chart, in tabular form.
<br>`
)});
  main.variable(observer()).define(["Inputs","sortedParties"], function(Inputs,sortedParties){return(
Inputs.table(sortedParties, {
  format: {
    Start: (d) => `${d}`,
    End: (x) => `${x}`
  }
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`-----------------------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`<br>
### More Details ....  
## A Deep Dive into Data from All Elections
<br>
<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`----------------------------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1952
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1952_West_Bengal_Legislative_Assembly_election)
- [Election Commission Report](${await FileAttachment("1951.pdf").url()})
  <br>`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1952"], function(Plot,wb1952){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },

  color: {
    domain: ["top1952", "other1952"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1952, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 149 ? "top1952" : "other1952")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1952"], function(Inputs,wb1952){return(
Inputs.table(wb1952)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
------------------  
  `
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1957
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`
- [Wikipedia page](https://en.wikipedia.org/wiki/1957_West_Bengal_Legislative_Assembly_election)  
- [Election Comission Records](${await FileAttachment("1957.pdf").url()})
<br>`
)});
  main.variable(observer()).define(["Plot","wb1957"], function(Plot,wb1957){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1957", "other1957"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1957, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 149 ? "top1957" : "other1957")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1957"], function(Inputs,wb1957){return(
Inputs.table(wb1957)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`-----------`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1962
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1962_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1962.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1962"], function(Plot,wb1962){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1962", "other1962"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1962, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 150 ? "top1962" : "other1962")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1962"], function(Inputs,wb1962){return(
Inputs.table(wb1962)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
----------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1967
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1967_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1967.pdf").url()})
  
`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1967"], function(Plot,wb1967){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1967", "other1967"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1967, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 126 ? "top1967" : "other1967")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1967"], function(Inputs,wb1967){return(
Inputs.table(wb1967)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`     
------------------------   
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1969
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia Page](https://en.wikipedia.org/wiki/1969_West_Bengal_Legislative_Assembly_election) 
- [Election Commission Records](${await FileAttachment("1969.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1969"], function(Plot,wb1969){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1969", "other1969"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1969, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 90 ? "top1969" : "other1969")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1969"], function(Inputs,wb1969){return(
Inputs.table(wb1969)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`   
-----------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1971
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1971_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1971.pdf").url()})
<br>`
)});
  main.variable(observer()).define(["Plot","wb1971"], function(Plot,wb1971){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1971", "other1971"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1971, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top1971" : "other1971")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1971"], function(Inputs,wb1971){return(
Inputs.table(wb1971)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
----------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1972
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1972_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1971.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1972"], function(Plot,wb1972){return(
Plot.plot({
  marginLeft: 50,
  x: {
    grid: true,
    label: "Seats Won"
  },
  y: {
    tickRotate: 45
  },
  color: {
    domain: ["top1972", "other1972"],
    range: ["#1f77b4", "#000000"]
  },
  marks: [
    Plot.barX(wb1972, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 190 ? "top1972" : "other1972")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1972"], function(Inputs,wb1972){return(
Inputs.table(wb1972)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`    
------------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1977
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1977_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1977.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1977"], function(Plot,wb1977){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1977", "other1977"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1977, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 170 ? "top1977" : "other1977")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`##   
`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1977"], function(Inputs,wb1977){return(
Inputs.table(wb1977)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`    
---------------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1982
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1982_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1982.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1982"], function(Plot,wb1982){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1982", "other1982"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1982, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top1982" : "other1982")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["md"], function(md){return(
md`##  
`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1982"], function(Inputs,wb1982){return(
Inputs.table(wb1982)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`#  
  
  
  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
----------------------
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1987
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1987_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1987.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1987"], function(Plot,wb1987){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1987", "other1987"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1987, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top1987" : "other1987")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1987"], function(Inputs,wb1987){return(
Inputs.table(wb1987)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
---------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1991
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1991_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1991.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1991"], function(Plot,wb1991){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1991", "other1991"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1991, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top1991" : "other1991")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1991"], function(Inputs,wb1991){return(
Inputs.table(wb1991)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
-------------------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 1996
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/1996_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("1996.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb1996"], function(Plot,wb1996){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top1996", "other1996"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb1996, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 150 ? "top1996" : "other1996")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb1996"], function(Inputs,wb1996){return(
Inputs.table(wb1996)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
------------------------- 
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 2001
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page ](https://en.wikipedia.org/wiki/2001_West_Bengal_Legislative_Assembly_election) 
- [Election Commission Records](${await FileAttachment("2001.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb2001"], function(Plot,wb2001){return(
Plot.plot({
  marginLeft: 50,
  x: {
    grid: true,
    label: "Seats Won"
  },
  y: {
    tickRotate: 45
  },

  color: {
    domain: ["top2001", "other2001"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb2001, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top2001" : "other2001")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb2001"], function(Inputs,wb2001){return(
Inputs.table(wb2001)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
---------------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 2006
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page](https://en.wikipedia.org/wiki/2006_West_Bengal_Legislative_Assembly_election)  
- [Election Commission Records](${await FileAttachment("2006.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb2006"], function(Plot,wb2006){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top2006", "other2006"],
    range: ["#d62728", "#000000"]
  },
  marks: [
    Plot.barX(wb2006, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 110 ? "top2006" : "other2006")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb2006"], function(Inputs,wb2006){return(
Inputs.table(wb2006)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`
--------------------------  
  `
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 2011
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page  ](https://en.wikipedia.org/wiki/2011_West_Bengal_Legislative_Assembly_election)
- [Election Commission Records](${await FileAttachment("2011.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb2011"], function(Plot,wb2011){return(
Plot.plot({
  marginLeft: 50,
  y: {
    tickRotate: 45
  },
  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top2011", "other2011"],
    range: ["#2ca02c", "#000000"]
  },
  marks: [
    Plot.barX(wb2011, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 180 ? "top2011" : "other2011")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb2011"], function(Inputs,wb2011){return(
Inputs.table(wb2011)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`
-----------------------------
  `
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 2016
<br>`
)});
  main.variable(observer()).define(["FileAttachment","md"], async function(FileAttachment,md){return(
md`- [Wikipedia page ](https://en.wikipedia.org/wiki/2016_West_Bengal_Legislative_Assembly_election) 
- [Election Commission Records](${await FileAttachment("2016.pdf").url()})`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb2016"], function(Plot,wb2016){return(
Plot.plot({
  marginLeft: 50,
  x: {
    grid: true,
    label: "Seats Won"
  },
  y: {
    tickRotate: 45
  },
  color: {
    domain: ["top2016", "other2016"],
    range: ["#2ca02c", "#000000"]
  },
  marks: [
    Plot.barX(wb2016, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 200 ? "top2016" : "other2016")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb2016"], function(Inputs,wb2016){return(
Inputs.table(wb2016)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
--------------------  
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`# 2021
<br>`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`- Wikipedia page  
- Election Commission Records`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Plot","wb2021"], function(Plot,wb2021){return(
Plot.plot({
  marginLeft: 50,

  x: {
    grid: true,
    label: "Seats Won"
  },
  color: {
    domain: ["top2021", "other2021"],
    range: ["#2ca02c", "#000000"]
  },
  marks: [
    Plot.barX(wb2021, {
      x: "Won",
      y: "Party",
      fill: (d) => (d.Won > 200 ? "top2021" : "other2021")
    }),
    Plot.ruleX([0])
  ]
})
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>`
)});
  main.variable(observer()).define(["Inputs","wb2021"], function(Inputs,wb2021){return(
Inputs.table(wb2021)
)});
  main.variable(observer()).define(["md"], function(md){return(
md`  
----------------------------

`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`#  `
)});
  main.variable(observer()).define(["md"], function(md){return(
md`#   
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`#   
`
)});
  main.variable(observer()).define(["htl"], function(htl){return(
htl.html`<br>
<br>
`
)});
  main.variable(observer()).define(["md"], function(md){return(
md`## Appendix
<br>`
)});
  main.variable(observer("sortedParties")).define("sortedParties", ["parties","d3"], function(parties,d3){return(
parties.slice().sort((a, b) => d3.ascending(a.Start, b.Start))
)});
  main.variable(observer("parties")).define("parties", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("Parties.csv").csv({ typed: true })
)});
  main.variable(observer("formatYear")).define("formatYear", function(){return(
(year) => `${year}`
)});
  main.variable(observer("partiesort")).define("partiesort", ["parties"], function(parties){return(
parties.sort((d) => d.Start)
)});
  main.variable(observer("redotline")).define("redotline", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("reddotline.csv").csv({ typed: true })
)});
  main.variable(observer("bluedotline")).define("bluedotline", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("bluedotline.csv").csv({ typed: true })
)});
  main.variable(observer("greendotline")).define("greendotline", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("greendotline.csv").csv({ typed: true })
)});
  main.variable(observer("orangedotline")).define("orangedotline", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("orangedotline.csv").csv({ typed: true })
)});
  main.variable(observer("combodotlinevotes")).define("combodotlinevotes", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("combo_votes.csv").csv({ typed: true })
)});
  main.variable(observer("wb1952")).define("wb1952", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1952@6.csv").csv({ typed: true })
)});
  main.variable(observer("wb1957")).define("wb1957", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1957@6.csv").csv({ typed: true })
)});
  main.variable(observer("wb1962")).define("wb1962", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1962@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1967")).define("wb1967", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1967@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1969")).define("wb1969", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1969@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1971")).define("wb1971", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1971@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1972")).define("wb1972", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1972@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1977")).define("wb1977", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1977@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1982")).define("wb1982", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1982@4.csv").csv({ typed: true })
)});
  main.variable(observer("wb1987")).define("wb1987", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1987@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb1991")).define("wb1991", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1991@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb1996")).define("wb1996", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb1996@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb2001")).define("wb2001", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb2001@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb2006")).define("wb2006", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb2006@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb2011")).define("wb2011", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb2011@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb2016")).define("wb2016", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb2016@3.csv").csv({ typed: true })
)});
  main.variable(observer("wb2021")).define("wb2021", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("wb2021@4.csv").csv({ typed: true })
)});
  main.variable(observer("lolichart")).define("lolichart", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("parties_lolipop.csv").csv({ typed: true })
)});
  main.variable(observer("fmt")).define("fmt", ["d3"], function(d3){return(
(n) => d3.format(",d")(n)
)});
  main.variable(observer("height")).define("height", function(){return(
300
)});
  main.variable(observer("width")).define("width", function(){return(
700
)});
  main.variable(observer("alldata")).define("alldata", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("WB_seats_4parties@3.csv").csv({ typed: true })
)});
  main.variable(observer("formatwb")).define("formatwb", ["FileAttachment"], function(FileAttachment){return(
FileAttachment("WB_seats_4parties_format@1.csv").csv({
  typed: true
})
)});
  main.variable(observer("data")).define("data", ["d3","FileAttachment"], async function(d3,FileAttachment){return(
Object.assign(
  d3.csvParse(
    await FileAttachment("WB_seats_4parties@1.csv").text(),
    d3.autoType
  ),
  { y: "seats" }
)
)});
  main.variable(observer("d3")).define("d3", ["require"], function(require){return(
require("d3@5")
)});
  const child1 = runtime.module(define1);
  main.import("Search", child1);
  main.import("Table", child1);
  const child2 = runtime.module(define2);
  main.import("swatches", "Swatches", child2);
  main.variable(observer("previews")).define("previews", ["htl","preview"], function(htl,preview){return(
function previews(notebooks, options) {
  return htl.html`<div style="display: grid; grid-gap: .875rem; grid-template-columns: repeat(auto-fill, minmax(160px, 5fr));">${notebooks.map(
    (notebook) => preview(notebook, options)
  )}</div>`;
}
)});
  main.variable(observer("preview")).define("preview", ["htl"], function(htl){return(
function preview(
  { path, title, author, thumbnail },
  { target = "_blank" } = {}
) {
  return htl.html`<a href=${`/${path}`} target=${target} title="${title}${
    author ? `by ${author}` : ""
  }" style="display: inline-flex; flex-direction: column; align-items: start; font: 400 .75rem var(--sans-serif); color: #1b1e23; width: 100%;" onmouseover=${(
    event
  ) =>
    (event.currentTarget.firstElementChild.style.borderColor =
      "#1b1e23")} onmouseout=${(event) =>
    (event.currentTarget.firstElementChild.style.borderColor = "#e8e8e8")}>
  <div style="border: solid 1px #e8e8e8; border-radius: 4px; box-sizing: border-box; width: 100%; padding-top: 62.5%; background-size: cover; background-image: url(https://static.observableusercontent.com/thumbnail/${encodeURI(
    thumbnail
  )}.jpg);"></div>
  <div style="width: 100%; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;">${title}</div>
</a>`;
}
)});
  main.variable(observer()).define(["html"], function(html){return(
html`<style>svg { font-size: 14px !important }`
)});
  main.variable(observer("html")).define("html", ["require"], async function(require){return(
(await require("htl@0.2")).html
)});
  return main;
}
